(function(){window.SocialShareButton={openUrl:function(e,t,o){var r;return null==t&&(t=640),null==o&&(o=480),r="width="+t+",height="+o+",left="+(screen.width/2-t/2)+",top="+(.3*screen.height-o/2)+",menubar=no,status=no,location=no",window.open(e,"popup",r),!1},share:function(o){var e,t,r,n,i,a,s,l,u,c,d,p,f;switch(l=$(o).data("site"),t=$(o).data("appkey")||"",e=$(o).parent(),u=encodeURIComponent($(o).data(l+"-title")||e.data("title")||""),s=encodeURIComponent(e.data("img")||""),d=encodeURIComponent(e.data("url")||""),p=encodeURIComponent(e.data("via")||""),r=encodeURIComponent(e.data("desc")||" "),"function"==typeof(n=window[window.GoogleAnalyticsObject||"ga"])&&n("send","event","Social Share Button","click",l),0===d.length&&(d=encodeURIComponent(location.href)),l){case"email":location.href="mailto:?to=&subject="+u+"&body="+d;break;case"weibo":SocialShareButton.openUrl("http://service.weibo.com/share/share.php?url="+d+"&type=3&pic="+s+"&title="+u+"&appkey="+t,620,370);break;case"twitter":a=encodeURIComponent($(o).data(l+"-hashtags")||e.data("hashtags")||""),f="",0<p.length&&(f="&via="+p),SocialShareButton.openUrl("https://twitter.com/intent/tweet?url="+d+"&text="+u+"&hashtags="+a+f,650,300);break;case"douban":SocialShareButton.openUrl("http://shuo.douban.com/!service/share?href="+d+"&name="+u+"&image="+s+"&sel="+r,770,470);break;case"facebook":SocialShareButton.openUrl("http://www.facebook.com/sharer/sharer.php?u="+d+"&display=popup&quote="+r,555,400);break;case"qq":SocialShareButton.openUrl("http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url="+d+"&title="+u+"&pics="+s+"&summary="+r+"&site="+t);break;case"google_plus":SocialShareButton.openUrl("https://plus.google.com/share?url="+d);break;case"google_bookmark":SocialShareButton.openUrl("https://www.google.com/bookmarks/mark?op=edit&output=popup&bkmk="+d+"&title="+u);break;case"delicious":SocialShareButton.openUrl("https://del.icio.us/save?url="+d+"&title="+u+"&jump=yes&pic="+s);break;case"pinterest":SocialShareButton.openUrl("http://www.pinterest.com/pin/create/button/?url="+d+"&media="+s+"&description="+u);break;case"linkedin":SocialShareButton.openUrl("https://www.linkedin.com/shareArticle?mini=true&url="+d+"&title="+u+"&summary="+r);break;case"xing":SocialShareButton.openUrl("https://www.xing.com/spi/shares/new?url="+d);break;case"vkontakte":SocialShareButton.openUrl("http://vk.com/share.php?url="+d+"&title="+u+"&image="+s);break;case"odnoklassniki":SocialShareButton.openUrl("https://connect.ok.ru/offer?url="+d+"&title="+u+"&description="+r+"&imageUrl="+s);break;case"wechat":if(!window.SocialShareWeChatButton)throw new Error("You should require social-share-button/wechat to your application.js");window.SocialShareWeChatButton.qrcode({url:decodeURIComponent(d),header:$(o).attr("title"),footer:$(o).data("wechat-footer")});break;case"tumblr":i=function(e){var t;if(t=$(o).attr("data-"+e))return encodeURIComponent(t)},c=function(){var e,t,o,r;return t=i("type")||"link",e=function(){switch(t){case"text":return"title="+(u=i("title")||u);case"photo":return u=i("caption")||u,r=i("source")||s,"caption="+u+"&source="+r;case"quote":return o=i("quote")||u,r=i("source")||"","quote="+o+"&source="+r;default:return u=i("title")||u,d=i("url")||d,"name="+u+"&url="+d}}(),"/"+t+"?"+e},SocialShareButton.openUrl("http://www.tumblr.com/share"+c());break;case"reddit":SocialShareButton.openUrl("http://www.reddit.com/submit?url="+d+"&newwindow=1",555,400);break;case"hacker_news":SocialShareButton.openUrl("http://news.ycombinator.com/submitlink?u="+d+"&t="+u,770,500);break;case"telegram":SocialShareButton.openUrl("https://telegram.me/share/url?text="+u+"&url="+d)}return!1}}}).call(this),function(m){m.fn.qrcode=function(u){function t(e){this.mode=o,this.data=e}function c(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}function d(e,t){if(null==e.length)throw Error(e.length+"/"+t);for(var o=0;o<e.length&&0==e[o];)o++;this.num=Array(e.length-o+t);for(var r=0;r<e.length-o;r++)this.num[r]=e[r+o]}function p(e,t){this.totalCount=e,this.dataCount=t}function a(){this.buffer=[],this.length=0}var o;t.prototype={getLength:function(){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}},c.prototype={addData:function(e){this.dataList.push(new t(e)),this.dataCache=null},isDark:function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=p.getRSBlocks(e,this.errorCorrectLevel),o=new a,r=0,n=0;n<t.length;n++)r+=t[n].dataCount;for(n=0;n<this.dataList.length;n++)t=this.dataList[n],o.put(t.mode,4),o.put(t.getLength(),f.getLengthInBits(t.mode,e)),t.write(o);if(o.getLengthInBits()<=8*r)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=Array(this.moduleCount);for(var o=0;o<this.moduleCount;o++){this.modules[o]=Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[o][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),7<=this.typeNumber&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=c.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(e,t){for(var o=-1;o<=7;o++)if(!(e+o<=-1||this.moduleCount<=e+o))for(var r=-1;r<=7;r++)t+r<=-1||this.moduleCount<=t+r||(this.modules[e+o][t+r]=0<=o&&o<=6&&(0==r||6==r)||0<=r&&r<=6&&(0==o||6==o)||2<=o&&o<=4&&2<=r&&r<=4)},getBestMaskPattern:function(){for(var e=0,t=0,o=0;o<8;o++){this.makeImpl(!0,o);var r=f.getLostPoint(this);(0==o||r<e)&&(e=r,t=o)}return t},createMovieClip:function(e,t,o){for(e=e.createEmptyMovieClip(t,o),this.make(),t=0;t<this.modules.length;t++){o=1*t;for(var r=0;r<this.modules[t].length;r++){var n=1*r;this.modules[t][r]&&(e.beginFill(0,100),e.moveTo(n,o),e.lineTo(n+1,o),e.lineTo(n+1,o+1),e.lineTo(n,o+1),e.endFill())}}return e},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=0==e%2);for(e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=0==e%2)},setupPositionAdjustPattern:function(){for(var e=f.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var o=0;o<e.length;o++){var r=e[t],n=e[o];if(null==this.modules[r][n])for(var i=-2;i<=2;i++)for(var a=-2;a<=2;a++)this.modules[r+i][n+a]=-2==i||2==i||-2==a||2==a||0==i&&0==a}},setupTypeNumber:function(e){for(var t=f.getBCHTypeNumber(this.typeNumber),o=0;o<18;o++){var r=!e&&1==(t>>o&1);this.modules[Math.floor(o/3)][o%3+this.moduleCount-8-3]=r}for(o=0;o<18;o++)r=!e&&1==(t>>o&1),this.modules[o%3+this.moduleCount-8-3][Math.floor(o/3)]=r},setupTypeInfo:function(e,t){for(var o=f.getBCHTypeInfo(this.errorCorrectLevel<<3|t),r=0;r<15;r++){var n=!e&&1==(o>>r&1);r<6?this.modules[r][8]=n:r<8?this.modules[r+1][8]=n:this.modules[this.moduleCount-15+r][8]=n}for(r=0;r<15;r++)n=!e&&1==(o>>r&1),r<8?this.modules[8][this.moduleCount-r-1]=n:r<9?this.modules[8][15-r-1+1]=n:this.modules[8][15-r-1]=n;this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var o=-1,r=this.moduleCount-1,n=7,i=0,a=this.moduleCount-1;0<a;a-=2)for(6==a&&a--;;){for(var s=0;s<2;s++)if(null==this.modules[r][a-s]){var l=!1;i<e.length&&(l=1==(e[i]>>>n&1)),f.getMask(t,r,a-s)&&(l=!l),this.modules[r][a-s]=l,-1==--n&&(i++,n=7)}if((r+=o)<0||this.moduleCount<=r){r-=o,o=-o;break}}}},c.PAD0=236,c.PAD1=17,c.createData=function(e,t,o){t=p.getRSBlocks(e,t);for(var r=new a,n=0;n<o.length;n++){var i=o[n];r.put(i.mode,4),r.put(i.getLength(),f.getLengthInBits(i.mode,e)),i.write(r)}for(n=e=0;n<t.length;n++)e+=t[n].dataCount;if(r.getLengthInBits()>8*e)throw Error("code length overflow. ("+r.getLengthInBits()+">"+8*e+")");for(r.getLengthInBits()+4<=8*e&&r.put(0,4);0!=r.getLengthInBits()%8;)r.putBit(!1);for(;!(r.getLengthInBits()>=8*e)&&(r.put(c.PAD0,8),!(r.getLengthInBits()>=8*e));)r.put(c.PAD1,8);return c.createBytes(r,t)},c.createBytes=function(e,t){for(var o=0,r=0,n=0,i=Array(t.length),a=Array(t.length),s=0;s<t.length;s++){var l=t[s].dataCount,u=t[s].totalCount-l;r=Math.max(r,l),n=Math.max(n,u);i[s]=Array(l);for(var c=0;c<i[s].length;c++)i[s][c]=255&e.buffer[c+o];for(o+=l,c=f.getErrorCorrectPolynomial(u),l=new d(i[s],c.getLength()-1).mod(c),a[s]=Array(c.getLength()-1),c=0;c<a[s].length;c++)u=c+l.getLength()-a[s].length,a[s][c]=0<=u?l.get(u):0}for(c=s=0;c<t.length;c++)s+=t[c].totalCount;for(o=Array(s),c=l=0;c<r;c++)for(s=0;s<t.length;s++)c<i[s].length&&(o[l++]=i[s][c]);for(c=0;c<n;c++)for(s=0;s<t.length;s++)c<a[s].length&&(o[l++]=a[s][c]);return o},o=4;for(var f={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;0<=f.getBCHDigit(t)-f.getBCHDigit(f.G15);)t^=f.G15<<f.getBCHDigit(t)-f.getBCHDigit(f.G15);return(e<<10|t)^f.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;0<=f.getBCHDigit(t)-f.getBCHDigit(f.G18);)t^=f.G18<<f.getBCHDigit(t)-f.getBCHDigit(f.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return f.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,o){switch(e){case 0:return 0==(t+o)%2;case 1:return 0==t%2;case 2:return 0==o%3;case 3:return 0==(t+o)%3;case 4:return 0==(Math.floor(t/2)+Math.floor(o/3))%2;case 5:return 0==t*o%2+t*o%3;case 6:return 0==(t*o%2+t*o%3)%2;case 7:return 0==(t*o%3+(t+o)%2)%2;default:throw Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new d([1],0),o=0;o<e;o++)t=t.multiply(new d([1,n.gexp(o)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case 1:return 10;case 2:return 9;case o:case 8:return 8;default:throw Error("mode:"+e)}else if(t<27)switch(e){case 1:return 12;case 2:return 11;case o:return 16;case 8:return 10;default:throw Error("mode:"+e)}else{if(!(t<41))throw Error("type:"+t);switch(e){case 1:return 14;case 2:return 13;case o:return 16;case 8:return 12;default:throw Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),o=0,r=0;r<t;r++)for(var n=0;n<t;n++){for(var i=0,a=e.isDark(r,n),s=-1;s<=1;s++)if(!(r+s<0||t<=r+s))for(var l=-1;l<=1;l++)n+l<0||t<=n+l||0==s&&0==l||a==e.isDark(r+s,n+l)&&i++;5<i&&(o+=3+i-5)}for(r=0;r<t-1;r++)for(n=0;n<t-1;n++)i=0,e.isDark(r,n)&&i++,e.isDark(r+1,n)&&i++,e.isDark(r,n+1)&&i++,e.isDark(r+1,n+1)&&i++,(0==i||4==i)&&(o+=3);for(r=0;r<t;r++)for(n=0;n<t-6;n++)e.isDark(r,n)&&!e.isDark(r,n+1)&&e.isDark(r,n+2)&&e.isDark(r,n+3)&&e.isDark(r,n+4)&&!e.isDark(r,n+5)&&e.isDark(r,n+6)&&(o+=40);for(n=0;n<t;n++)for(r=0;r<t-6;r++)e.isDark(r,n)&&!e.isDark(r+1,n)&&e.isDark(r+2,n)&&e.isDark(r+3,n)&&e.isDark(r+4,n)&&!e.isDark(r+5,n)&&e.isDark(r+6,n)&&(o+=40);for(n=i=0;n<t;n++)for(r=0;r<t;r++)e.isDark(r,n)&&i++;return o+10*(e=Math.abs(100*i/t/t-50)/5)}},n={glog:function(e){if(e<1)throw Error("glog("+e+")");return n.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;256<=e;)e-=255;return n.EXP_TABLE[e]},EXP_TABLE:Array(256),LOG_TABLE:Array(256)},e=0;e<8;e++)n.EXP_TABLE[e]=1<<e;for(e=8;e<256;e++)n.EXP_TABLE[e]=n.EXP_TABLE[e-4]^n.EXP_TABLE[e-5]^n.EXP_TABLE[e-6]^n.EXP_TABLE[e-8];for(e=0;e<255;e++)n.LOG_TABLE[n.EXP_TABLE[e]]=e;return d.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=Array(this.getLength()+e.getLength()-1),o=0;o<this.getLength();o++)for(var r=0;r<e.getLength();r++)t[o+r]^=n.gexp(n.glog(this.get(o))+n.glog(e.get(r)));return new d(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=n.glog(this.get(0))-n.glog(e.get(0)),o=Array(this.getLength()),r=0;r<this.getLength();r++)o[r]=this.get(r);for(r=0;r<e.getLength();r++)o[r]^=n.gexp(n.glog(e.get(r))+t);return new d(o,0).mod(e)}},p.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],p.getRSBlocks=function(e,t){var o=p.getRsBlockTable(e,t);if(null==o)throw Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var r=o.length/3,n=[],i=0;i<r;i++)for(var a=o[3*i+0],s=o[3*i+1],l=o[3*i+2],u=0;u<a;u++)n.push(new p(s,l));return n},p.getRsBlockTable=function(e,t){switch(t){case 1:return p.RS_BLOCK_TABLE[4*(e-1)+0];case 0:return p.RS_BLOCK_TABLE[4*(e-1)+1];case 3:return p.RS_BLOCK_TABLE[4*(e-1)+2];case 2:return p.RS_BLOCK_TABLE[4*(e-1)+3]}},a.prototype={get:function(e){return 1==(this.buffer[Math.floor(e/8)]>>>7-e%8&1)},put:function(e,t){for(var o=0;o<t;o++)this.putBit(1==(e>>>t-o-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},"string"==typeof u&&(u={text:u}),u=m.extend({},{render:"canvas",width:256,height:256,typeNumber:-1,correctLevel:2,background:"#ffffff",foreground:"#000000"},u),this.each(function(){var e;if("canvas"==u.render){(e=new c(u.typeNumber,u.correctLevel)).addData(u.text),e.make();var t=document.createElement("canvas");t.width=u.width,t.height=u.height;for(var o=t.getContext("2d"),r=u.width/e.getModuleCount(),n=u.height/e.getModuleCount(),i=0;i<e.getModuleCount();i++)for(var a=0;a<e.getModuleCount();a++){o.fillStyle=e.isDark(i,a)?u.foreground:u.background;var s=Math.ceil((a+1)*r)-Math.floor(a*r),l=Math.ceil((i+1)*r)-Math.floor(i*r);o.fillRect(Math.round(a*r),Math.round(i*n),s,l)}}else for((e=new c(u.typeNumber,u.correctLevel)).addData(u.text),e.make(),t=m("<table></table>").css("width",u.width+"px").css("height",u.height+"px").css("border","0px").css("border-collapse","collapse").css("background-color",u.background),o=u.width/e.getModuleCount(),r=u.height/e.getModuleCount(),n=0;n<e.getModuleCount();n++)for(i=m("<tr></tr>").css("height",r+"px").appendTo(t),a=0;a<e.getModuleCount();a++)m("<td></td>").css("width",o+"px").css("background-color",e.isDark(n,a)?u.foreground:u.background).appendTo(i);e=t,jQuery(e).appendTo(this)})}}(jQuery),function(){window.SocialShareWeChatButton={init:function(e){var t;return null==e&&(e={}),t="<div id='ss-wechat-dialog' class='ss-wechat-dialog'> <div class='wechat-popup-header'> <span>"+e.header+"</span> <a href='#' onclick='return false;' class='wechat-popup-close'>\xd7</a> </div> <div id='ss-wechat-dialog-qr' class='wechat-dialog-qr'></div> <div class='wechat-popup-footer'> "+e.footer+" </div> </div>",$("body").append(t)},bindEvents:function(){var e;return(e=$("#ss-wechat-dialog")).find(".wechat-popup-close").on("click",function(){return e.hide()})},qrcode:function(e){var t,o,r,n;return null==e&&(e={}),$("#ss-wechat-dialog").length||(this.init(e),this.bindEvents()),(t=$("#ss-wechat-dialog-qr")).empty(),t.qrcode({width:200,height:200,text:e.url}),o=$("#ss-wechat-dialog"),(n=($(window).height()-o.height())/2)<100&&(n=100),r=($(window).width()-o.width())/2,o.css({top:n,left:r}),o.show()}}}.call(this),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(window.jQuery||window.Zepto)}(function(c){var d,r,p,n,f,t,l="Close",u="BeforeClose",o="AfterClose",i="BeforeAppend",m="MarkupParse",h="Open",a="Change",s="mfp",g="."+s,v="mfp-ready",w="mfp-removing",C="mfp-prevent-close",e=function(){},b=!!window.jQuery,y=c(window),k=function(e,t){d.ev.on(s+e+g,t)},I=function(e,t,o,r){var n=document.createElement("div");return n.className="mfp-"+e,o&&(n.innerHTML=o),r?t&&t.appendChild(n):(n=c(n),t&&n.appendTo(t)),n},B=function(e,t){d.ev.triggerHandler(s+e,t),d.st.callbacks&&(e=e.charAt(0).toLowerCase()+e.slice(1),d.st.callbacks[e]&&d.st.callbacks[e].apply(d,c.isArray(t)?t:[t]))},S=function(e){return e===t&&d.currTemplate.closeBtn||(d.currTemplate.closeBtn=c(d.st.closeMarkup.replace("%title%",d.st.tClose)),t=e),d.currTemplate.closeBtn},T=function(){c.magnificPopup.instance||((d=new e).init(),c.magnificPopup.instance=d)},x=function(){var e=document.createElement("p").style,t=["ms","O","Moz","Webkit"];if(e.transition!==undefined)return!0;for(;t.length;)if(t.pop()+"Transition"in e)return!0;return!1};e.prototype={constructor:e,init:function(){var e=navigator.appVersion;d.isLowIE=d.isIE8=document.all&&!document.addEventListener,d.isAndroid=/android/gi.test(e),d.isIOS=/iphone|ipad|ipod/gi.test(e),d.supportsTransition=x(),d.probablyMobile=d.isAndroid||d.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),p=c(document),d.popupsCache={}},open:function(e){var t;if(!1===e.isObj){d.items=e.items.toArray(),d.index=0;var o,r=e.items;for(t=0;t<r.length;t++)if((o=r[t]).parsed&&(o=o.el[0]),o===e.el[0]){d.index=t;break}}else d.items=c.isArray(e.items)?e.items:[e.items],d.index=e.index||0;if(!d.isOpen){d.types=[],f="",e.mainEl&&e.mainEl.length?d.ev=e.mainEl.eq(0):d.ev=p,e.key?(d.popupsCache[e.key]||(d.popupsCache[e.key]={}),d.currTemplate=d.popupsCache[e.key]):d.currTemplate={},d.st=c.extend(!0,{},c.magnificPopup.defaults,e),d.fixedContentPos="auto"===d.st.fixedContentPos?!d.probablyMobile:d.st.fixedContentPos,d.st.modal&&(d.st.closeOnContentClick=!1,d.st.closeOnBgClick=!1,d.st.showCloseBtn=!1,d.st.enableEscapeKey=!1),d.bgOverlay||(d.bgOverlay=I("bg").on("click"+g,function(){d.close()}),d.wrap=I("wrap").attr("tabindex",-1).on("click"+g,function(e){d._checkIfClose(e.target)&&d.close()}),d.container=I("container",d.wrap)),d.contentContainer=I("content"),d.st.preloader&&(d.preloader=I("preloader",d.container,d.st.tLoading));var n=c.magnificPopup.modules;for(t=0;t<n.length;t++){var i=n[t];i=i.charAt(0).toUpperCase()+i.slice(1),d["init"+i].call(d)}B("BeforeOpen"),d.st.showCloseBtn&&(d.st.closeBtnInside?(k(m,function(e,t,o,r){o.close_replaceWith=S(r.type)}),f+=" mfp-close-btn-in"):d.wrap.append(S())),d.st.alignTop&&(f+=" mfp-align-top"),d.fixedContentPos?d.wrap.css({overflow:d.st.overflowY,overflowX:"hidden",overflowY:d.st.overflowY}):d.wrap.css({top:y.scrollTop(),position:"absolute"}),(!1===d.st.fixedBgPos||"auto"===d.st.fixedBgPos&&!d.fixedContentPos)&&d.bgOverlay.css({height:p.height(),position:"absolute"}),d.st.enableEscapeKey&&p.on("keyup"+g,function(e){27===e.keyCode&&d.close()}),y.on("resize"+g,function(){d.updateSize()}),d.st.closeOnContentClick||(f+=" mfp-auto-cursor"),f&&d.wrap.addClass(f);var a=d.wH=y.height(),s={};if(d.fixedContentPos&&d._hasScrollBar(a)){var l=d._getScrollbarSize();l&&(s.marginRight=l)}d.fixedContentPos&&(d.isIE7?c("body, html").css("overflow","hidden"):s.overflow="hidden");var u=d.st.mainClass;return d.isIE7&&(u+=" mfp-ie7"),u&&d._addClassToMFP(u),d.updateItemHTML(),B("BuildControls"),c("html").css(s),d.bgOverlay.add(d.wrap).prependTo(d.st.prependTo||c(document.body)),d._lastFocusedEl=document.activeElement,setTimeout(function(){d.content?(d._addClassToMFP(v),d._setFocus()):d.bgOverlay.addClass(v),p.on("focusin"+g,d._onFocusIn)},16),d.isOpen=!0,d.updateSize(a),B(h),e}d.updateItemHTML()},close:function(){d.isOpen&&(B(u),d.isOpen=!1,d.st.removalDelay&&!d.isLowIE&&d.supportsTransition?(d._addClassToMFP(w),setTimeout(function(){d._close()},d.st.removalDelay)):d._close())},_close:function(){B(l);var e=w+" "+v+" ";if(d.bgOverlay.detach(),d.wrap.detach(),d.container.empty(),d.st.mainClass&&(e+=d.st.mainClass+" "),d._removeClassFromMFP(e),d.fixedContentPos){var t={marginRight:""};d.isIE7?c("body, html").css("overflow",""):t.overflow="",c("html").css(t)}p.off("keyup"+g+" focusin"+g),d.ev.off(g),d.wrap.attr("class","mfp-wrap").removeAttr("style"),d.bgOverlay.attr("class","mfp-bg"),d.container.attr("class","mfp-container"),!d.st.showCloseBtn||d.st.closeBtnInside&&!0!==d.currTemplate[d.currItem.type]||d.currTemplate.closeBtn&&d.currTemplate.closeBtn.detach(),d.st.autoFocusLast&&d._lastFocusedEl&&c(d._lastFocusedEl).focus(),d.currItem=null,d.content=null,d.currTemplate=null,d.prevHeight=0,B(o)},updateSize:function(e){if(d.isIOS){var t=document.documentElement.clientWidth/window.innerWidth,o=window.innerHeight*t;d.wrap.css("height",o),d.wH=o}else d.wH=e||y.height();d.fixedContentPos||d.wrap.css("height",d.wH),B("Resize")},updateItemHTML:function(){var e=d.items[d.index];d.contentContainer.detach(),d.content&&d.content.detach(),e.parsed||(e=d.parseEl(d.index));var t=e.type;if(B("BeforeChange",[d.currItem?d.currItem.type:"",t]),d.currItem=e,!d.currTemplate[t]){var o=!!d.st[t]&&d.st[t].markup;B("FirstMarkupParse",o),d.currTemplate[t]=!o||c(o)}n&&n!==e.type&&d.container.removeClass("mfp-"+n+"-holder");var r=d["get"+t.charAt(0).toUpperCase()+t.slice(1)](e,d.currTemplate[t]);d.appendContent(r,t),e.preloaded=!0,B(a,e),n=e.type,d.container.prepend(d.contentContainer),B("AfterChange")},appendContent:function(e,t){(d.content=e)?d.st.showCloseBtn&&d.st.closeBtnInside&&!0===d.currTemplate[t]?d.content.find(".mfp-close").length||d.content.append(S()):d.content=e:d.content="",B(i),d.container.addClass("mfp-"+t+"-holder"),d.contentContainer.append(d.content)},parseEl:function(e){var t,o=d.items[e];if(o.tagName?o={el:c(o)}:(t=o.type,o={data:o,src:o.src}),o.el){for(var r=d.types,n=0;n<r.length;n++)if(o.el.hasClass("mfp-"+r[n])){t=r[n];break}o.src=o.el.attr("data-mfp-src"),o.src||(o.src=o.el.attr("href"))}return o.type=t||d.st.type||"inline",o.index=e,o.parsed=!0,d.items[e]=o,B("ElementParse",o),d.items[e]},addGroup:function(t,o){var e=function(e){e.mfpEl=this,d._openClick(e,t,o)};o||(o={});var r="click.magnificPopup";o.mainEl=t,o.items?(o.isObj=!0,t.off(r).on(r,e)):(o.isObj=!1,o.delegate?t.off(r).on(r,o.delegate,e):(o.items=t).off(r).on(r,e))},_openClick:function(e,t,o){if((o.midClick!==undefined?o.midClick:c.magnificPopup.defaults.midClick)||!(2===e.which||e.ctrlKey||e.metaKey||e.altKey||e.shiftKey)){var r=o.disableOn!==undefined?o.disableOn:c.magnificPopup.defaults.disableOn;if(r)if(c.isFunction(r)){if(!r.call(d))return!0}else if(y.width()<r)return!0;e.type&&(e.preventDefault(),d.isOpen&&e.stopPropagation()),o.el=c(e.mfpEl),o.delegate&&(o.items=t.find(o.delegate)),d.open(o)}},updateStatus:function(e,t){if(d.preloader){r!==e&&d.container.removeClass("mfp-s-"+r),t||"loading"!==e||(t=d.st.tLoading);var o={status:e,text:t};B("UpdateStatus",o),e=o.status,t=o.text,d.preloader.html(t),d.preloader.find("a").on("click",function(e){e.stopImmediatePropagation()}),d.container.addClass("mfp-s-"+e),r=e}},_checkIfClose:function(e){if(!c(e).hasClass(C)){var t=d.st.closeOnContentClick,o=d.st.closeOnBgClick;if(t&&o)return!0;if(!d.content||c(e).hasClass("mfp-close")||d.preloader&&e===d.preloader[0])return!0;if(e===d.content[0]||c.contains(d.content[0],e)){if(t)return!0}else if(o&&c.contains(document,e))return!0;return!1}},_addClassToMFP:function(e){d.bgOverlay.addClass(e),d.wrap.addClass(e)},_removeClassFromMFP:function(e){this.bgOverlay.removeClass(e),d.wrap.removeClass(e)},_hasScrollBar:function(e){return(d.isIE7?p.height():document.body.scrollHeight)>(e||y.height())},_setFocus:function(){(d.st.focus?d.content.find(d.st.focus).eq(0):d.wrap).focus()},_onFocusIn:function(e){if(e.target!==d.wrap[0]&&!c.contains(d.wrap[0],e.target))return d._setFocus(),!1},_parseMarkup:function(n,e,t){var i;t.data&&(e=c.extend(t.data,e)),B(m,[n,e,t]),c.each(e,function(e,t){if(t===undefined||!1===t)return!0;if(1<(i=e.split("_")).length){var o=n.find(g+"-"+i[0]);if(0<o.length){var r=i[1];"replaceWith"===r?o[0]!==t[0]&&o.replaceWith(t):"img"===r?o.is("img")?o.attr("src",t):o.replaceWith(c("<img>").attr("src",t).attr("class",o.attr("class"))):o.attr(i[1],t)}}else n.find(g+"-"+e).html(t)})},_getScrollbarSize:function(){if(d.scrollbarSize===undefined){var e=document.createElement("div");e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e),d.scrollbarSize=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return d.scrollbarSize}},c.magnificPopup={instance:null,proto:e.prototype,modules:[],open:function(e,t){return T(),(e=e?c.extend(!0,{},e):{}).isObj=!0,e.index=t||0,this.instance.open(e)},close:function(){return c.magnificPopup.instance&&c.magnificPopup.instance.close()},registerModule:function(e,t){t.options&&(c.magnificPopup.defaults[e]=t.options),c.extend(this.proto,t.proto),this.modules.push(e)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&#215;</button>',tClose:"Close (Esc)",tLoading:"Loading...",autoFocusLast:!0}},c.fn.magnificPopup=function(e,t){T();var o=c(this);if("string"==typeof e)if("open"===e){var r,n=b?o.data("magnificPopup"):o[0].magnificPopup,i=parseInt(t,10)||0;n.items?r=n.items[i]:(r=o,n.delegate&&(r=r.find(n.delegate)),r=r.eq(i)),d._openClick({mfpEl:r},o,n)}else d.isOpen&&d[e].apply(d,Array.prototype.slice.call(arguments,1));else e=c.extend(!0,{},e),b?o.data("magnificPopup",e):o[0].magnificPopup=e,d.addGroup(o,e);return o};var P,E,L,_="inline",M=function(){L&&(E.after(L.addClass(P)).detach(),L=null)};c.magnificPopup.registerModule(_,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){d.types.push(_),k(l+"."+_,function(){M()})},getInline:function(e,t){if(M(),e.src){var o=d.st.inline,r=c(e.src);if(r.length){var n=r[0].parentNode;n&&n.tagName&&(E||(P=o.hiddenClass,E=I(P),P="mfp-"+P),L=r.after(E).detach().removeClass(P)),d.updateStatus("ready")}else d.updateStatus("error",o.tNotFound),r=c("<div>");return e.inlineElement=r}return d.updateStatus("ready"),d._parseMarkup(t,{},e),t}}});var A,O="ajax",z=function(){A&&c(document.body).removeClass(A)},D=function(){z(),d.req&&d.req.abort()};c.magnificPopup.registerModule(O,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){d.types.push(O),A=d.st.ajax.cursor,k(l+"."+O,D),k("BeforeChange."+O,D)},getAjax:function(n){A&&c(document.body).addClass(A),d.updateStatus("loading");var e=c.extend({url:n.src,success:function(e,t,o){var r={data:e,xhr:o};B("ParseAjax",r),d.appendContent(c(r.data),O),n.finished=!0,z(),d._setFocus(),setTimeout(function(){d.wrap.addClass(v)},16),d.updateStatus("ready"),B("AjaxContentAdded")},error:function(){z(),n.finished=n.loadError=!0,d.updateStatus("error",d.st.ajax.tError.replace("%url%",n.src))}},d.st.ajax.settings);return d.req=c.ajax(e),""}}});var H,N=function(e){if(e.data&&e.data.title!==undefined)return e.data.title;var t=d.st.image.titleSrc;if(t){if(c.isFunction(t))return t.call(d,e);if(e.el)return e.el.attr(t)||""}return""};c.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var e=d.st.image,t=".image";d.types.push("image"),k(h+t,function(){"image"===d.currItem.type&&e.cursor&&c(document.body).addClass(e.cursor)}),k(l+t,function(){e.cursor&&c(document.body).removeClass(e.cursor),y.off("resize"+g)}),k("Resize"+t,d.resizeImage),d.isLowIE&&k("AfterChange",d.resizeImage)},resizeImage:function(){var e=d.currItem;if(e&&e.img&&d.st.image.verticalFit){var t=0;d.isLowIE&&(t=parseInt(e.img.css("padding-top"),10)+parseInt(e.img.css("padding-bottom"),10)),e.img.css("max-height",d.wH-t)}},_onImageHasSize:function(e){e.img&&(e.hasSize=!0,H&&clearInterval(H),e.isCheckingImgSize=!1,B("ImageHasSize",e),e.imgHidden&&(d.content&&d.content.removeClass("mfp-loading"),e.imgHidden=!1))},findImageSize:function(t){var o=0,r=t.img[0],n=function(e){H&&clearInterval(H),H=setInterval(function(){0<r.naturalWidth?d._onImageHasSize(t):(200<o&&clearInterval(H),3===++o?n(10):40===o?n(50):100===o&&n(500))},e)};n(1)},getImage:function(e,t){var o=0,r=function(){e&&(e.img[0].complete?(e.img.off(".mfploader"),e===d.currItem&&(d._onImageHasSize(e),d.updateStatus("ready")),e.hasSize=!0,e.loaded=!0,B("ImageLoadComplete")):++o<200?setTimeout(r,100):n())},n=function(){e&&(e.img.off(".mfploader"),e===d.currItem&&(d._onImageHasSize(e),d.updateStatus("error",i.tError.replace("%url%",e.src))),e.hasSize=!0,e.loaded=!0,e.loadError=!0)},i=d.st.image,a=t.find(".mfp-img");if(a.length){var s=document.createElement("img");s.className="mfp-img",e.el&&e.el.find("img").length&&(s.alt=e.el.find("img").attr("alt")),e.img=c(s).on("load.mfploader",r).on("error.mfploader",n),s.src=e.src,a.is("img")&&(e.img=e.img.clone()),0<(s=e.img[0]).naturalWidth?e.hasSize=!0:s.width||(e.hasSize=!1)}return d._parseMarkup(t,{title:N(e),img_replaceWith:e.img},e),d.resizeImage(),e.hasSize?(H&&clearInterval(H),e.loadError?(t.addClass("mfp-loading"),d.updateStatus("error",i.tError.replace("%url%",e.src))):(t.removeClass("mfp-loading"),d.updateStatus("ready"))):(d.updateStatus("loading"),e.loading=!0,e.hasSize||(e.imgHidden=!0,t.addClass("mfp-loading"),d.findImageSize(e))),t}}});var U,R=function(){
return U===undefined&&(U=document.createElement("p").style.MozTransform!==undefined),U};c.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(e){return e.is("img")?e:e.find("img")}},proto:{initZoom:function(){var e,i=d.st.zoom,t=".zoom";if(i.enabled&&d.supportsTransition){var o,r,n=i.duration,a=function(e){var t=e.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),o="all "+i.duration/1e3+"s "+i.easing,r={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},n="transition";return r["-webkit-"+n]=r["-moz-"+n]=r["-o-"+n]=r[n]=o,t.css(r),t},s=function(){d.content.css("visibility","visible")};k("BuildControls"+t,function(){if(d._allowZoom()){if(clearTimeout(o),d.content.css("visibility","hidden"),!(e=d._getItemToZoom()))return void s();(r=a(e)).css(d._getOffset()),d.wrap.append(r),o=setTimeout(function(){r.css(d._getOffset(!0)),o=setTimeout(function(){s(),setTimeout(function(){r.remove(),e=r=null,B("ZoomAnimationEnded")},16)},n)},16)}}),k(u+t,function(){if(d._allowZoom()){if(clearTimeout(o),d.st.removalDelay=n,!e){if(!(e=d._getItemToZoom()))return;r=a(e)}r.css(d._getOffset(!0)),d.wrap.append(r),d.content.css("visibility","hidden"),setTimeout(function(){r.css(d._getOffset())},16)}}),k(l+t,function(){d._allowZoom()&&(s(),r&&r.remove(),e=null)})}},_allowZoom:function(){return"image"===d.currItem.type},_getItemToZoom:function(){return!!d.currItem.hasSize&&d.currItem.img},_getOffset:function(e){var t,o=(t=e?d.currItem.img:d.st.zoom.opener(d.currItem.el||d.currItem)).offset(),r=parseInt(t.css("padding-top"),10),n=parseInt(t.css("padding-bottom"),10);o.top-=c(window).scrollTop()-r;var i={width:t.width(),height:(b?t.innerHeight():t[0].offsetHeight)-n-r};return R()?i["-moz-transform"]=i.transform="translate("+o.left+"px,"+o.top+"px)":(i.left=o.left,i.top=o.top),i}}});var F="iframe",q="//about:blank",j=function(e){if(d.currTemplate[F]){var t=d.currTemplate[F].find("iframe");t.length&&(e||(t[0].src=q),d.isIE8&&t.css("display",e?"block":"none"))}};c.magnificPopup.registerModule(F,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){d.types.push(F),k("BeforeChange",function(e,t,o){t!==o&&(t===F?j():o===F&&j(!0))}),k(l+"."+F,function(){j()})},getIframe:function(e,t){var o=e.src,r=d.st.iframe;c.each(r.patterns,function(){if(-1<o.indexOf(this.index))return this.id&&(o="string"==typeof this.id?o.substr(o.lastIndexOf(this.id)+this.id.length,o.length):this.id.call(this,o)),o=this.src.replace("%id%",o),!1});var n={};return r.srcAction&&(n[r.srcAction]=o),d._parseMarkup(t,n,e),d.updateStatus("ready"),t}}});var $=function(e){var t=d.items.length;return t-1<e?e-t:e<0?t+e:e},G=function(e,t,o){return e.replace(/%curr%/gi,t+1).replace(/%total%/gi,o)};c.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var i=d.st.gallery,e=".mfp-gallery";if(d.direction=!0,!i||!i.enabled)return!1;f+=" mfp-gallery",k(h+e,function(){i.navigateByImgClick&&d.wrap.on("click"+e,".mfp-img",function(){if(1<d.items.length)return d.next(),!1}),p.on("keydown"+e,function(e){37===e.keyCode?d.prev():39===e.keyCode&&d.next()})}),k("UpdateStatus"+e,function(e,t){t.text&&(t.text=G(t.text,d.currItem.index,d.items.length))}),k(m+e,function(e,t,o,r){var n=d.items.length;o.counter=1<n?G(i.tCounter,r.index,n):""}),k("BuildControls"+e,function(){if(1<d.items.length&&i.arrows&&!d.arrowLeft){var e=i.arrowMarkup,t=d.arrowLeft=c(e.replace(/%title%/gi,i.tPrev).replace(/%dir%/gi,"left")).addClass(C),o=d.arrowRight=c(e.replace(/%title%/gi,i.tNext).replace(/%dir%/gi,"right")).addClass(C);t.click(function(){d.prev()}),o.click(function(){d.next()}),d.container.append(t.add(o))}}),k(a+e,function(){d._preloadTimeout&&clearTimeout(d._preloadTimeout),d._preloadTimeout=setTimeout(function(){d.preloadNearbyImages(),d._preloadTimeout=null},16)}),k(l+e,function(){p.off(e),d.wrap.off("click"+e),d.arrowRight=d.arrowLeft=null})},next:function(){d.direction=!0,d.index=$(d.index+1),d.updateItemHTML()},prev:function(){d.direction=!1,d.index=$(d.index-1),d.updateItemHTML()},goTo:function(e){d.direction=e>=d.index,d.index=e,d.updateItemHTML()},preloadNearbyImages:function(){var e,t=d.st.gallery.preload,o=Math.min(t[0],d.items.length),r=Math.min(t[1],d.items.length);for(e=1;e<=(d.direction?r:o);e++)d._preloadItem(d.index+e);for(e=1;e<=(d.direction?o:r);e++)d._preloadItem(d.index-e)},_preloadItem:function(e){if(e=$(e),!d.items[e].preloaded){var t=d.items[e];t.parsed||(t=d.parseEl(e)),B("LazyLoad",t),"image"===t.type&&(t.img=c('<img class="mfp-img" />').on("load.mfploader",function(){t.hasSize=!0}).on("error.mfploader",function(){t.hasSize=!0,t.loadError=!0,B("LazyLoadError",t)}).attr("src",t.src)),t.preloaded=!0}}}});var W="retina";c.magnificPopup.registerModule(W,{options:{replaceSrc:function(e){return e.src.replace(/\.\w+$/,function(e){return"@2x"+e})},ratio:1},proto:{initRetina:function(){if(1<window.devicePixelRatio){var o=d.st.retina,r=o.ratio;1<(r=isNaN(r)?r():r)&&(k("ImageHasSize."+W,function(e,t){t.img.css({"max-width":t.img[0].naturalWidth/r,width:"100%"})}),k("ElementParse."+W,function(e,t){t.src=o.replaceSrc(t,r)}))}}}}),T()}),$(".image-popup-no-margins").magnificPopup({type:"image",closeOnContentClick:!0,closeBtnInside:!1,fixedContentPos:!0,mainClass:"mfp-no-margins mfp-with-zoom",image:{verticalFit:!0},zoom:{enabled:!0,duration:300}}),$(".score-box, .avg-rating").popover({trigger:"hover"});